{
  "info": {
    "name": "Shipping API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_postman_id": "b9f9c2b2-0000-4000-8000-000000000001"
  },
  "item": [
    {
      "name": "Health",
      "item": [
        {
          "name": "GET /api/health",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/health",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "health"
              ]
            }
          }
        },
        {
          "name": "GET /api/debug/db",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/debug/db",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "debug",
                "db"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Auth",
      "item": [
        {
          "name": "POST /api/auth/register",
          "request": {
            "method": "POST",
            "header": [
              {"key":"Content-Type","value":"application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"email\": \"john.doe+{{rand}}@example.com\",\n  \"password\": \"Passw0rd!\",\n  \"branch\": \"NYC\",\n  \"serviceTypeIDs\": [\"S1\", \"S2\"]\n}"
            },
            "url": {"raw":"{{baseUrl}}/api/auth/register","host":["{{baseUrl}}"],"path":["api","auth","register"]}
          }
        },
        {
          "name": "POST /api/auth/login",
          "request": {
            "method": "POST",
            "header": [
              {"key":"Content-Type","value":"application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@example.com\",\n  \"password\": \"admin123\"\n}"
            },
            "url": {"raw":"{{baseUrl}}/api/auth/login","host":["{{baseUrl}}"],"path":["api","auth","login"]}
          },
          "response": []
        },
        {
          "name": "GET /api/auth/me (cookie)",
          "request": {
            "method": "GET",
            "url": {"raw":"{{baseUrl}}/api/auth/me","host":["{{baseUrl}}"],"path":["api","auth","me"]}
          }
        },
        {
          "name": "POST /api/auth/logout",
          "request": {
            "method": "POST",
            "url": {"raw":"{{baseUrl}}/api/auth/logout","host":["{{baseUrl}}"],"path":["api","auth","logout"]}
          }
        }
      ]
    },
    {
      "name": "Admin (cookie auth)",
      "item": [
        {
          "name": "GET /api/admin/customers",
          "request": {"method":"GET","url":{"raw":"{{baseUrl}}/api/admin/customers","host":["{{baseUrl}}"],"path":["api","admin","customers"]}}
        },
        {
          "name": "POST /api/admin/customers",
          "request": {
            "method": "POST",
            "header": [{"key":"Content-Type","value":"application/json"}],
            "body": {"mode":"raw","raw":"{\n  \"firstName\": \"Amy\",\n  \"lastName\": \"Lee\",\n  \"email\": \"amy.lee+{{rand}}@example.com\",\n  \"password\": \"Passw0rd!\",\n  \"branch\": \"LAX\",\n  \"serviceTypeIDs\": [\"INTL\"]\n}"},
            "url": {"raw":"{{baseUrl}}/api/admin/customers","host":["{{baseUrl}}"],"path":["api","admin","customers"]}
          }
        },
        {
          "name": "PUT /api/admin/customers",
          "request": {
            "method": "PUT",
            "header": [{"key":"Content-Type","value":"application/json"}],
            "body": {"mode":"raw","raw":"{\n  \"id\": \"<mongoId>\",\n  \"firstName\": \"Amy\"\n}"},
            "url": {"raw":"{{baseUrl}}/api/admin/customers","host":["{{baseUrl}}"],"path":["api","admin","customers"]}
          }
        },
        {
          "name": "DELETE /api/admin/customers",
          "request": {
            "method": "DELETE",
            "header": [{"key":"Content-Type","value":"application/json"}],
            "body": {"mode":"raw","raw":"{\n  \"id\": \"<mongoId>\"\n}"},
            "url": {"raw":"{{baseUrl}}/api/admin/customers","host":["{{baseUrl}}"],"path":["api","admin","customers"]}
          }
        },
        {
          "name": "GET /api/admin/packages",
          "request": {"method":"GET","url":{"raw":"{{baseUrl}}/api/admin/packages","host":["{{baseUrl}}"],"path":["api","admin","packages"]}}
        },
        {
          "name": "GET /api/admin/reports/summary",
          "request": {"method":"GET","url":{"raw":"{{baseUrl}}/api/admin/reports/summary","host":["{{baseUrl}}"],"path":["api","admin","reports","summary"]}}
        }
      ]
    },
    {
      "name": "Customer (cookie auth)",
      "item": [
        {
          "name": "GET /api/customer/packages",
          "request": {"method":"GET","url":{"raw":"{{baseUrl}}/api/customer/packages","host":["{{baseUrl}}"],"path":["api","customer","packages"]}}
        }
      ]
    },
    {
      "name": "Public",
      "item": [
        {
          "name": "GET /api/tracking/:trackingNumber",
          "request": {"method":"GET","url":{"raw":"{{baseUrl}}/api/tracking/PKG-EXAMPLE123","host":["{{baseUrl}}"],"path":["api","tracking","PKG-EXAMPLE123"]}}
        }
      ]
    },
    {
      "name": "Tasoko (internal)",
      "item": [
        {
          "name": "POST /api/tasoko/add-package",
          "request": {
            "method":"POST",
            "header":[{"key":"Content-Type","value":"application/json"}],
            "body":{"mode":"raw","raw":"{\n  \"trackingNumber\": \"PKG-0001\",\n  \"userCode\": \"U123\",\n  \"weight\": 2.5,\n  \"shipper\": \"DHL\",\n  \"description\": \"Shoes\"\n}"},
            "url":{"raw":"{{baseUrl}}/api/tasoko/add-package","host":["{{baseUrl}}"],"path":["api","tasoko","add-package"]}
          }
        },
        {
          "name": "POST /api/tasoko/update-package",
          "request": {
            "method":"POST",
            "header":[{"key":"Content-Type","value":"application/json"}],
            "body":{"mode":"raw","raw":"{\n  \"trackingNumber\": \"PKG-0001\",\n  \"status\": \"In Transit\",\n  \"note\": \"Departed facility\"\n}"},
            "url":{"raw":"{{baseUrl}}/api/tasoko/update-package","host":["{{baseUrl}}"],"path":["api","tasoko","update-package"]}
          }
        },
        {
          "name": "POST /api/tasoko/delete-package",
          "request": {
            "method":"POST",
            "header":[{"key":"Content-Type","value":"application/json"}],
            "body":{"mode":"raw","raw":"{\n  \"trackingNumber\": \"PKG-0001\"\n}"},
            "url":{"raw":"{{baseUrl}}/api/tasoko/delete-package","host":["{{baseUrl}}"],"path":["api","tasoko","delete-package"]}
          }
        },
        {
          "name": "GET /api/tasoko/get-customers",
          "request": {"method":"GET","url":{"raw":"{{baseUrl}}/api/tasoko/get-customers","host":["{{baseUrl}}"],"path":["api","tasoko","get-customers"]}}
        }
      ]
    },
    {
      "name": "Warehouse (x-warehouse-key)",
      "item": [
        {
          "name": "GET /api/warehouse/customers",
          "request": {
            "method":"GET",
            "header":[{"key":"x-warehouse-key","value":"{{WAREHOUSE_API_KEY}}"}],
            "url":{"raw":"{{baseUrl}}/api/warehouse/customers","host":["{{baseUrl}}"],"path":["api","warehouse","customers"]}
          }
        },
        {
          "name": "POST /api/warehouse/manifests/update",
          "request": {
            "method":"POST",
            "header":[{"key":"Content-Type","value":"application/json"},{"key":"x-warehouse-key","value":"{{WAREHOUSE_API_KEY}}"}],
            "body":{"mode":"raw","raw":"{\n  \"manifestId\": \"MNF-1001\",\n  \"description\": \"Flight ABC\",\n  \"data\": {\n    \"awbNumber\": \"123-4567890\"\n  }\n}"},
            "url":{"raw":"{{baseUrl}}/api/warehouse/manifests/update","host":["{{baseUrl}}"],"path":["api","warehouse","manifests","update"]}
          }
        },
        {
          "name": "POST /api/warehouse/packages/add",
          "request": {
            "method":"POST",
            "header":[{"key":"Content-Type","value":"application/json"},{"key":"x-warehouse-key","value":"{{WAREHOUSE_API_KEY}}"}],
            "body":{"mode":"raw","raw":"{\n  \"trackingNumber\": \"PKG-0002\",\n  \"userCode\": \"U123\",\n  \"weight\": 3.4,\n  \"shipper\": \"UPS\",\n  \"description\": \"Clothes\"\n}"},
            "url":{"raw":"{{baseUrl}}/api/warehouse/packages/add","host":["{{baseUrl}}"],"path":["api","warehouse","packages","add"]}
          }
        },
        {
          "name": "POST /api/warehouse/packages/update-status",
          "request": {
            "method":"POST",
            "header":[{"key":"Content-Type","value":"application/json"},{"key":"x-warehouse-key","value":"{{WAREHOUSE_API_KEY}}"}],
            "body":{"mode":"raw","raw":"{\n  \"trackingNumber\": \"PKG-0002\",\n  \"status\": \"In Transit\",\n  \"note\": \"Left origin\",\n  \"manifestId\": \"MNF-1001\"\n}"},
            "url":{"raw":"{{baseUrl}}/api/warehouse/packages/update-status","host":["{{baseUrl}}"],"path":["api","warehouse","packages","update-status"]}
          }
        },
        {
          "name": "POST /api/warehouse/packages/delete",
          "request": {
            "method":"POST",
            "header":[{"key":"Content-Type","value":"application/json"},{"key":"x-warehouse-key","value":"{{WAREHOUSE_API_KEY}}"}],
            "body":{"mode":"raw","raw":"{\n  \"trackingNumber\": \"PKG-0002\"\n}"},
            "url":{"raw":"{{baseUrl}}/api/warehouse/packages/delete","host":["{{baseUrl}}"],"path":["api","warehouse","packages","delete"]}
          }
        }
      ]
    },
    {
      "name": "Dev (local only)",
      "item": [
        {
          "name": "POST /api/dev/seed-admin",
          "request": {"method":"POST","url":{"raw":"{{baseUrl}}/api/dev/seed-admin","host":["{{baseUrl}}"],"path":["api","dev","seed-admin"]}}
        },
        {
          "name": "POST /api/dev/seed-packages?count=5",
          "request": {"method":"POST","url":{"raw":"{{baseUrl}}/api/dev/seed-packages?count=5","host":["{{baseUrl}}"],"path":["api","dev","seed-packages"],"query":[{"key":"count","value":"5"}]}}
        }
      ]
    }
  ],
  "variable": [
    {"key": "baseUrl", "value": "http://localhost:3000"},
    {"key": "WAREHOUSE_API_KEY", "value": "changeme"},
    {"key": "rand", "value": "{{$randomInt}}"}
  ]
}
